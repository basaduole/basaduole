<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>巴萨多勒官网</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --dark-red: #8B0000;
            --light-red: #a52a2a;
            --light-red-transparent: rgba(165, 42, 42, 0.1);
            --dark-white: #f0f0f0;
            --light-gray: #e5e5e5;
            --medium-gray: #a0a0a0;
            --dark-gray: #333;
            --section-bg: rgba(255, 255, 255, 0.95);
            --card-bg: #ffffff;
            --border-color: #e0e0e0;
            --text-dark: #333;
            --text-light: #666;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            --success: #28a745;
            --warning: #ffc107;
            --error: #dc3545;
            --info: #17a2b8;
        }
        
        body {
            background-color: #f9f9f9;
            color: var(--text-dark);
            line-height: 1.6;
            background-image: 
                linear-gradient(to bottom, #f9f9f9, #f0f0f0);
            min-height: 100vh;
            position: relative;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* 头部样式 */
        header {
            background: linear-gradient(to right, #8B0000, #a52a2a);
            padding: 25px 0;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }
        
        header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 90% 10%, rgba(255,255,255,0.15) 0%, transparent 20%),
                radial-gradient(circle at 10% 90%, rgba(255,255,255,0.15) 0%, transparent 20%);
            z-index: 0;
        }
        
        header h1 {
            font-size: 2.8rem;
            letter-spacing: 2px;
            color: white;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            position: relative;
            z-index: 1;
            font-weight: 700;
        }
        
        /* 主内容区域 */
        .main-content {
            display: flex;
            gap: 30px;
            margin-top: 30px;
        }
        
        /* 左侧导航区 */
        .content-left {
            flex: 1;
            background: var(--section-bg);
            border-radius: 12px;
            padding: 25px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            max-height: 800px;
            position: sticky;
            top: 20px;
            display: flex;
            flex-direction: column;
            overflow-y: auto; /* 添加滚动功能 */
        }
        
        /* 右侧内容区 */
        .content-right {
            flex: 3;
            background: var(--section-bg);
            border-radius: 12px;
            padding: 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            overflow-y: auto;
            max-height: calc(100vh - 150px);
            position: sticky;
            top: 20px;
        }
        
        .section {
            margin-bottom: 40px;
            scroll-margin-top: 100px;
        }
        
        .section h2 {
            color: var(--dark-red);
            border-left: 4px solid var(--dark-red);
            padding-left: 15px;
            margin-bottom: 25px;
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .section h2 i {
            color: var(--dark-red);
        }
        
        .planet-intro {
            background: var(--light-red-transparent);
            padding: 25px;
            border-radius: 10px;
            border: 1px solid var(--border-color);
            margin-bottom: 30px;
            line-height: 1.8;
        }
        
        .planet-intro p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        .highlight {
            color: var(--dark-red);
            font-weight: 600;
        }
        
        /* 文档列表样式 */
        .doc-list {
            list-style: none;
            margin-top: 15px;
        }
        
        .doc-item {
            padding: 15px 20px;
            background: var(--card-bg);
            border-radius: 8px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.03);
        }
        
        .doc-item:hover {
            transform: translateX(5px);
            border-color: var(--dark-red);
            box-shadow: 0 4px 8px rgba(139, 0, 0, 0.1);
        }
        
        .doc-name {
            font-weight: 600;
            color: var(--text-dark);
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
        }
        
        .doc-category {
            font-size: 0.8rem;
            background: var(--light-red-transparent);
            color: var(--dark-red);
            padding: 3px 10px;
            border-radius: 20px;
            font-weight: 500;
        }
        
        .doc-actions {
            display: flex;
            gap: 10px;
        }
        
        .delete-btn {
            background: none;
            border: none;
            color: #888;
            cursor: pointer;
            transition: color 0.3s;
            font-size: 0.9rem;
            padding: 5px;
        }
        
        .delete-btn:hover {
            color: var(--dark-red);
        }
        
        /* 分类导航 */
        .category-nav {
            list-style: none;
            margin-bottom: 25px;
        }
        
        .category-nav li {
            margin-bottom: 12px;
        }
        
        .category-nav a {
            display: block;
            padding: 14px 20px;
            background: var(--card-bg);
            color: var(--text-dark);
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-weight: 600;
            text-align: left;
            border: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            gap: 12px;
            box-shadow: var(--shadow);
        }
        
        .category-nav a:hover {
            background: var(--dark-red);
            color: white;
            transform: translateX(5px);
        }
        
        .category-nav a.active {
            background: var(--dark-red);
            color: white;
        }
        
        .category-nav a i {
            width: 24px;
            text-align: center;
        }
        
        /* 添加文档按钮 */
        .add-doc-btn {
            display: block;
            width: 100%;
            padding: 14px;
            background: var(--dark-red);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.05rem;
            cursor: pointer;
            transition: background 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-weight: 600;
            box-shadow: var(--shadow);
            margin-bottom: 20px;
        }
        
        .add-doc-btn:hover {
            background: var(--light-red);
            transform: translateY(-2px);
        }
        
        /* 文档网格 */
        .doc-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }
        
        .doc-card {
            background: var(--card-bg);
            border-radius: 10px;
            overflow: hidden;
            transition: all 0.3s ease;
            border: 1px solid var(--border-color);
            box-shadow: var(--shadow);
        }
        
        .doc-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            border-color: var(--dark-red);
        }
        
        .doc-image {
            height: 160px;
            background: linear-gradient(45deg, #f0f0f0, #e0e0e0);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
        }
        
        .doc-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .doc-image .placeholder {
            font-size: 3rem;
            color: rgba(139, 0, 0, 0.1);
        }
        
        .doc-content {
            padding: 20px;
        }
        
        .doc-content h3 {
            color: var(--dark-red);
            margin-bottom: 10px;
            font-size: 1.25rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .doc-content .category-tag {
            font-size: 0.75rem;
            background: var(--light-red-transparent);
            color: var(--dark-red);
            padding: 3px 10px;
            border-radius: 20px;
        }
        
        .doc-stats {
            display: flex;
            justify-content: space-between;
            color: var(--medium-gray);
            font-size: 0.85rem;
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid var(--border-color);
        }
        
        /* 模态框样式 */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background: white;
            width: 90%;
            max-width: 500px;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        .modal-header {
            background: var(--dark-red);
            padding: 20px;
            text-align: center;
            position: relative;
        }
        
        .modal-header h2 {
            color: white;
            font-size: 1.5rem;
        }
        
        .close-btn {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 1.8rem;
            color: white;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        
        .close-btn:hover {
            transform: scale(1.2);
        }
        
        .modal-body {
            padding: 25px;
            max-height: 70vh;
            overflow-y: auto;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--text-dark);
            font-weight: 500;
        }
        
        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px 15px;
            background: white;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            color: var(--text-dark);
            transition: border-color 0.3s ease;
            font-size: 1rem;
        }
        
        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            border-color: var(--dark-red);
            outline: none;
            box-shadow: 0 0 0 2px rgba(139, 0, 0, 0.1);
        }
        
        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }
        
        .submit-btn {
            background: var(--dark-red);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            transition: background 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
        }
        
        .submit-btn:hover {
            background: var(--light-red);
        }
        
        .password-container {
            position: relative;
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .password-input-container {
            flex: 1;
            position: relative;
        }
        
        .toggle-password {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            color: var(--medium-gray);
        }
        
        .confirm-password-btn {
            background: var(--dark-red);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.3s ease;
            font-weight: 500;
        }
        
        .confirm-password-btn:hover {
            background: var(--light-red);
        }
        
        /* 文档详情模态框 */
        .doc-detail {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .doc-detail-content {
            background: white;
            width: 90%;
            max-width: 800px;
            border-radius: 12px;
            overflow: hidden;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
        }
        
        .doc-detail-header {
            background: var(--dark-red);
            padding: 20px;
            position: relative;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .doc-detail-header h2 {
            color: white;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.6rem;
        }
        
        .doc-detail-body {
            padding: 30px;
        }
        
        .doc-detail-image {
            max-width: 100%;
            height: 300px;
            background: linear-gradient(45deg, #f0f0f0, #e0e0e0);
            margin: 0 auto 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            border-radius: 10px;
        }
        
        .doc-detail-image img {
            max-width: 100%;
            max-height: 300px;
            object-fit: contain;
        }
        
        .doc-detail-text {
            line-height: 1.8;
            font-size: 1.1rem;
            color: var(--text-dark);
            margin-bottom: 25px;
        }
        
        .doc-meta {
            display: flex;
            justify-content: space-between;
            color: var(--medium-gray);
            font-size: 0.9rem;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
        }
        
        .delete-doc-btn {
            background: none;
            border: 1px solid var(--border-color);
            color: var(--text-light);
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .delete-doc-btn:hover {
            background: #fff0f0;
            border-color: var(--dark-red);
            color: var(--dark-red);
        }
        
        /* 响应式设计 */
        @media (max-width: 900px) {
            .main-content {
                flex-direction: column;
            }
            
            .content-left {
                position: static;
                max-height: none;
            }
            
            .content-right {
                max-height: none;
                position: static;
            }
            
            header h1 {
                font-size: 2.2rem;
            }
        }
        
        @media (max-width: 600px) {
            .doc-grid {
                grid-template-columns: 1fr;
            }
            
            header h1 {
                font-size: 1.8rem;
            }
            
            .password-container {
                flex-direction: column;
            }
            
            .confirm-password-btn {
                width: 100%;
            }
            
            .modal-body {
                padding: 15px;
            }
            
            .form-group input, 
            .form-group textarea, 
            .form-group select {
                padding: 10px 12px;
            }
            
            .submit-btn {
                width: 100%;
                margin-top: 10px;
            }
        }
        
        /* 无文档提示 */
        .empty-message {
            text-align: center;
            padding: 40px 20px;
            color: var(--medium-gray);
            font-style: italic;
            border: 2px dashed var(--border-color);
            border-radius: 10px;
            background: #fafafa;
        }
        
        .empty-message i {
            font-size: 3rem;
            color: rgba(139, 0, 0, 0.1);
            margin-bottom: 15px;
        }
        
        .empty-message p {
            margin-bottom: 10px;
        }
        
        /* 滚动条样式 */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--dark-red);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--light-red);
        }
        
        /* 星球动画 */
        .planet-animation {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, #8B0000, #a52a2a);
            box-shadow: 0 0 30px rgba(139, 0, 0, 0.3);
            animation: rotate 20s linear infinite;
        }
        
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .section-title {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .section-title h2 {
            margin-bottom: 0;
        }
        
        .view-all {
            color: var(--dark-red);
            text-decoration: none;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .view-all:hover {
            text-decoration: underline;
        }
        
        /* QQ群样式 */
        .qq-group {
            background: #f8f8f8;
            border-left: 4px solid var(--dark-red);
            padding: 20px;
            border-radius: 0 8px 8px 0;
            margin-top: auto;
            text-align: center;
        }
        
        .qq-group h3 {
            color: var(--dark-red);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .qq-number {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--dark-red);
            padding: 10px 20px;
            background: rgba(139, 0, 0, 0.1);
            border-radius: 8px;
            display: inline-block;
            margin: 10px 0;
        }
        
        .qq-desc {
            color: var(--text-light);
            font-size: 0.9rem;
        }
        
        /* 图片预览 */
        .image-preview-container {
            margin-top: 15px;
            display: none;
        }
        
        .image-preview {
            width: 100%;
            max-height: 200px;
            object-fit: contain;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            margin-top: 10px;
            display: none;
        }
        
        .file-input-container {
            position: relative;
            overflow: hidden;
            display: inline-block;
            width: 100%;
        }
        
        .file-input-container input[type="file"] {
            position: absolute;
            left: 0;
            top: 0;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
        }
        
        .file-input-label {
            display: block;
            padding: 12px 15px;
            background: white;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            color: var(--text-dark);
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .file-input-label:hover {
            border-color: var(--dark-red);
            background-color: rgba(139, 0, 0, 0.05);
        }
        
        .file-input-label i {
            margin-right: 8px;
        }
        
        /* 加载指示器 */
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--dark-red);
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* 通知消息 */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: 8px;
            color: white;
            font-weight: 500;
            z-index: 2000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            transform: translateX(200%);
            transition: transform 0.3s ease;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification.success {
            background-color: var(--success);
        }
        
        .notification.error {
            background-color: var(--error);
        }
        
        .notification.warning {
            background-color: var(--warning);
            color: var(--text-dark);
        }
        
        .notification.info {
            background-color: var(--info);
        }
        
        /* 管理员面板 */
        .admin-panel {
            background: rgba(139, 0, 0, 0.05);
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            border: 1px solid var(--light-red-transparent);
        }
        
        .admin-panel h4 {
            color: var(--dark-red);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .admin-status {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
        }
        
        .admin-status .indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            display: inline-block;
        }
        
        .admin-status .online {
            background-color: var(--success);
        }
        
        .admin-status .offline {
            background-color: var(--error);
        }
        
        /* 状态指示器 */
        .status-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
        }
        
        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            display: inline-block;
        }
        
        .status-online {
            background-color: var(--success);
        }
        
        .status-offline {
            background-color: var(--error);
        }
        
        .status-text {
            font-size: 0.9rem;
        }
        
        .debug-panel {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin-top: 20px;
            border: 1px solid #e9ecef;
            font-family: monospace;
            font-size: 0.85rem;
            max-height: 200px;
            overflow-y: auto;
        }
        
        .debug-title {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .debug-title h4 {
            color: var(--dark-red);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .debug-log {
            white-space: pre-wrap;
            word-break: break-all;
        }
        
        .debug-log .error {
            color: var(--error);
        }
        
        .debug-log .success {
            color: var(--success);
        }
        
        .debug-log .info {
            color: var(--info);
        }
        
        .connection-test-btn {
            margin-top: 10px;
            padding: 8px 15px;
            background: var(--info);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 500;
            font-size: 0.9rem;
        }
        
        .connection-test-btn:hover {
            background: #138496;
        }
        
        .local-cache-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 10px;
            font-size: 0.85rem;
        }
        
        .init-error {
            color: #dc3545;
            background: #fff0f0;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            text-align: center;
        }
        
        /* 加载指示器 */
        .page-loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 3000;
            color: white;
            flex-direction: column;
        }
        
        .page-loader.hidden {
            display: none;
        }
        
        .page-loader .loader {
            width: 60px;
            height: 60px;
            margin-bottom: 20px;
        }
        
        .page-loader p {
            font-size: 1.2rem;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <!-- 页面加载指示器 -->
    <div class="page-loader" id="pageLoader">
        <div class="loader"></div>
        <p>加载巴萨多勒星球数据中...</p>
    </div>
    
    <!-- 头部区域 -->
    <header>
        <div class="container">
            <h1>巴萨多勒官网</h1>
            <div class="planet-animation"></div>
        </div>
    </header>
    
    <div class="container">
        <div class="main-content">
            <!-- 左侧导航区 -->
            <div class="content-left">
                <h2><i class="fas fa-folder"></i> 文档分类</h2>
                <ul class="category-nav">
                    <li><a href="#biology" class="active" onclick="highlightCategory(event, this)"><i class="fas fa-paw"></i> 生物</a></li>
                    <li><a href="#plant" onclick="highlightCategory(event, this)"><i class="fab fa-pagelines"></i> 植物</a></li>
                    <li><a href="#food" onclick="highlightCategory(event, this)"><i class="fas fa-utensils"></i> 食物</a></li>
                    <li><a href="#medicine" onclick="highlightCategory(event, this)"><i class="fas fa-pills"></i> 药物</a></li>
                </ul>
                
                <button class="add-doc-btn" onclick="openAddDocModal()">
                    <i class="fas fa-plus-circle"></i> 添加新文档
                </button>
                
                <!-- 管理员状态面板 -->
                <div class="admin-panel">
                    <h4><i class="fas fa-user-shield"></i> 系统状态</h4>
                    <div class="admin-status">
                        <span class="indicator online"></span>
                        <span>云存储已连接</span>
                    </div>
                    <div class="admin-status">
                        <span class="indicator online"></span>
                        <span>本地缓存已启用</span>
                    </div>
                    <div class="admin-status">
                        <span class="indicator online"></span>
                        <span>系统运行正常</span>
                    </div>
                    <p style="font-size: 0.8rem; margin-top: 10px; color: var(--text-light);">
                        所有文档存储在云端，可在不同设备间同步
                    </p>
                </div>
                
                <!-- QQ群信息 -->
                <div class="qq-group">
                    <h3><i class="fab fa-qq"></i> 加入QQ群</h3>
                    <div class="qq-number">1042323247</div>
                    <p class="qq-desc">加入群聊交流巴萨多勒星球探索经验</p>
                </div>
                
                <!-- 调试面板 -->
                <div class="debug-panel">
                    <div class="debug-title">
                        <h4><i class="fas fa-bug"></i> 系统日志</h4>
                        <button class="connection-test-btn" onclick="testConnection()">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                    </div>
                    <div class="debug-log" id="runtimeLog">
                        <div class="info">[系统启动] 初始化文档中心...</div>
                        <div class="success">[连接成功] 云存储连接正常</div>
                        <div class="info">[数据加载] 已加载 8 个文档</div>
                    </div>
                </div>
            </div>
            
            <!-- 右侧内容区 -->
            <div class="content-right">
                <!-- 巴萨多勒介绍 -->
                <div class="section">
                    <h2><i class="fas fa-globe-americas"></i> 巴萨多勒星球介绍</h2>
                    <div class="planet-intro">
                        <p>巴萨多勒是一颗距离地球十分遥远的星球，位于宇宙的未知星域。这个神秘的星球与地球有较大区别。</p>
                        <p>在巴萨多勒，你会遇到地球上从未见过的奇特生物和植物，有趣的是，地球人类会因为未知原因偶尔穿越到巴萨多勒星球，有时还会携带一些地球上的装备和物资。</p>
                        <p>更神秘的是，巴萨多勒星球上会随机出现地球上的建筑结构，但这些建筑通常不完整，仿佛是从不同时空碎片中拼凑而成。</p>
                        <p class="highlight">文档系统已升级为云存储，所有用户共享相同的文档数据！</p>
                    </div>
                </div>
                
                <!-- 热门文档 -->
                <div class="section">
                    <div class="section-title">
                        <h2><i class="fas fa-fire"></i> 热门文档</h2>
                        <a href="#" class="view-all">查看全部 <i class="fas fa-arrow-right"></i></a>
                    </div>
                    <div class="doc-grid" id="hot-docs">
                        <!-- 热门文档将通过JS动态加载 -->
                    </div>
                </div>
                
                <!-- 最新文档 -->
                <div class="section">
                    <div class="section-title">
                        <h2><i class="fas fa-clock"></i> 最新文档</h2>
                        <a href="#" class="view-all">查看全部 <i class="fas fa-arrow-right"></i></a>
                    </div>
                    <div class="doc-grid" id="recent-docs">
                        <!-- 最新文档将通过JS动态加载 -->
                    </div>
                </div>
                
                <!-- 文档分类区块 -->
                <div class="section" id="biology">
                    <h2><i class="fas fa-paw"></i> 生物</h2>
                    <ul class="doc-list" id="biology-docs">
                        <!-- 生物文档将通过JS动态加载 -->
                    </ul>
                </div>
                
                <div class="section" id="plant">
                    <h2><i class="fab fa-pagelines"></i> 植物</h2>
                    <ul class="doc-list" id="plant-docs">
                        <!-- 植物文档将通过JS动态加载 -->
                    </ul>
                </div>
                
                <div class="section" id="food">
                    <h2><i class="fas fa-utensils"></i> 食物</h2>
                    <ul class="doc-list" id="food-docs">
                        <!-- 食物文档将通过JS动态加载 -->
                    </ul>
                </div>
                
                <div class="section" id="medicine">
                    <h2><i class="fas fa-pills"></i> 药物</h2>
                    <ul class="doc-list" id="medicine-docs">
                        <!-- 药物文档将通过JS动态加载 -->
                    </ul>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 添加文档模态框 -->
    <div id="addDocModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>添加新文档</h2>
                <span class="close-btn" onclick="closeAddDocModal()">&times;</span>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="password">访问密码</label>
                    <div class="password-container">
                        <div class="password-input-container">
                            <input type="password" id="password" placeholder="输入密码以解锁编辑功能">
                            <span class="toggle-password" onclick="togglePasswordVisibility()">
                                <i class="fas fa-eye"></i>
                            </span>
                        </div>
                        <button class="confirm-password-btn" onclick="checkPassword()">确认密码</button>
                    </div>
                </div>
                
                <div id="docForm" style="display:none;">
                    <div class="form-group">
                        <label for="docName">文档名称</label>
                        <input type="text" id="docName" placeholder="输入文档名称">
                    </div>
                    
                    <div class="form-group">
                        <label for="docCategory">文档分类</label>
                        <select id="docCategory">
                            <option value="生物">生物</option>
                            <option value="植物">植物</option>
                            <option value="食物">食物</option>
                            <option value="药物">药物</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="docImage">上传图片</label>
                        <div class="file-input-container">
                            <input type="file" id="docImage" accept="image/*">
                            <div class="file-input-label">
                                <i class="fas fa-cloud-upload-alt"></i>
                                <span id="fileLabelText">选择图片文件</span>
                            </div>
                        </div>
                        <div class="image-preview-container">
                            <img id="imagePreview" class="image-preview" alt="图片预览">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="docDescription">文档描述</label>
                        <textarea id="docDescription" placeholder="输入详细描述..."></textarea>
                    </div>
                    
                    <button class="submit-btn" onclick="addNewDocument()">
                        <i class="fas fa-save"></i> 提交文档
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 文档详情模态框 -->
    <div id="docDetail" class="doc-detail">
        <div class="doc-detail-content">
            <div class="doc-detail-header">
                <h2><i class="fas fa-file-alt"></i> <span id="detailTitleText"></span></h2>
                <span class="close-btn" onclick="closeDocDetail()">&times;</span>
            </div>
            <div class="doc-detail-body">
                <div class="doc-detail-image" id="detailImageContainer">
                    <img id="detailImage" src="" alt="文档图片">
                </div>
                <div class="doc-detail-text">
                    <p id="detailDescription"></p>
                </div>
                <div class="doc-meta">
                    <div>
                        <span>分类: <span id="detailCategory" style="color: var(--dark-red); font-weight: 500;"></span></span>
                    </div>
                    <div>
                        <span>浏览次数: <span id="detailViews" style="color: var(--dark-red); font-weight: 500;"></span></span>
                    </div>
                </div>
                <div style="margin-top: 20px; text-align: right;">
                    <button class="delete-doc-btn" onclick="openDeleteDocModal()">
                        <i class="fas fa-trash-alt"></i> 删除文档
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 删除文档模态框 -->
    <div id="deleteDocModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>删除文档</h2>
                <span class="close-btn" onclick="closeDeleteDocModal()">&times;</span>
            </div>
            <div class="modal-body">
                <p style="margin-bottom: 20px;">您确定要删除文档 "<span id="deleteDocName" style="font-weight: 600; color: var(--dark-red);"></span>" 吗？此操作无法撤销。</p>
                
                <div class="form-group">
                    <label for="deletePassword">确认密码</label>
                    <input type="password" id="deletePassword" placeholder="输入密码以确认删除">
                </div>
                
                <div style="text-align: right; margin-top: 25px;">
                    <button class="delete-doc-btn" onclick="closeDeleteDocModal()" style="margin-right: 10px;">
                        取消
                    </button>
                    <button class="submit-btn" onclick="confirmDeleteDocument()">
                        <i class="fas fa-trash-alt"></i> 确认删除
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 通知消息容器 -->
    <div id="notificationContainer"></div>
    
    <script>
        // 模拟文档数据
        const mockDocuments = [
            {
                id: '1',
                name: '火焰鸟',
                category: '生物',
                description: '巴萨多勒星球特有的生物，全身覆盖着炽热的火焰羽毛，能够在空中自由翱翔。',
                views: 125,
                created_at: '2023-05-15T08:30:00Z',
                image: null
            },
            {
                id: '2',
                name: '水晶蜥蜴',
                category: '生物',
                description: '身体由透明水晶构成，能够折射光线使其隐形，是巴萨多勒星球的顶级捕食者之一。',
                views: 98,
                created_at: '2023-06-20T10:15:00Z',
                image: null
            },
            {
                id: '3',
                name: '星辉花',
                category: '植物',
                description: '夜晚会发出微弱星光的奇特植物，其花粉具有治愈作用，是巴萨多勒星球最珍贵的植物之一。',
                views: 87,
                created_at: '2023-04-10T14:20:00Z',
                image: null
            },
            {
                id: '4',
                name: '能量浆果',
                category: '食物',
                description: '富含高能量物质的浆果，食用后可提供24小时的饱腹感和持续能量供给。',
                views: 142,
                created_at: '2023-07-01T09:45:00Z',
                image: null
            },
            {
                id: '5',
                name: '记忆蘑菇',
                category: '药物',
                description: '食用后可增强短期记忆力，但过量使用会导致时间感知错乱，需谨慎使用。',
                views: 76,
                created_at: '2023-03-22T11:30:00Z',
                image: null
            },
            {
                id: '6',
                name: '浮空藤蔓',
                category: '植物',
                description: '能够在空气中生长并支撑重量的神奇藤蔓，巴萨多勒居民常用来建造空中桥梁。',
                views: 63,
                created_at: '2023-05-30T16:40:00Z',
                image: null
            },
            {
                id: '7',
                name: '闪电鱼',
                category: '生物',
                description: '生活在巴萨多勒云层中的生物，能够产生并存储闪电能量，是重要的能源来源。',
                views: 112,
                created_at: '2023-06-05T13:25:00Z',
                image: null
            },
            {
                id: '8',
                name: '时空果冻',
                category: '食物',
                description: '具有轻微时空扭曲效果的特殊食物，食用后可能会短暂体验平行宇宙的景象。',
                views: 155,
                created_at: '2023-07-15T17:10:00Z',
                image: null
            }
        ];
        
        // 状态变量
        let allDocuments = [];
        let currentDocId = null;
        let currentImageFile = null;
        
        // 显示通知
        function showNotification(message, type) {
            const container = document.getElementById('notificationContainer');
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            container.appendChild(notification);
            
            // 显示通知
            setTimeout(() => {
                notification.classList.add('show');
            }, 10);
            
            // 3秒后隐藏并移除通知
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    container.removeChild(notification);
                }, 300);
            }, 3000);
        }
        
        // 渲染所有文档
        function renderAllDocuments() {
            // 清空现有文档
            document.getElementById('biology-docs').innerHTML = '';
            document.getElementById('plant-docs').innerHTML = '';
            document.getElementById('food-docs').innerHTML = '';
            document.getElementById('medicine-docs').innerHTML = '';
            document.getElementById('hot-docs').innerHTML = '';
            document.getElementById('recent-docs').innerHTML = '';
            
            // 按分类渲染文档列表
            renderCategoryDocuments('生物', 'biology-docs');
            renderCategoryDocuments('植物', 'plant-docs');
            renderCategoryDocuments('食物', 'food-docs');
            renderCategoryDocuments('药物', 'medicine-docs');
            
            // 渲染热门文档（按浏览次数排序）
            renderHotDocuments();
            
            // 渲染最新文档（按时间排序）
            renderRecentDocuments();
        }
        
        // 渲染分类文档列表
        function renderCategoryDocuments(category, containerId) {
            const container = document.getElementById(containerId);
            const categoryDocs = allDocuments.filter(doc => doc.category === category);
            
            if (categoryDocs.length === 0) {
                container.innerHTML = `
                    <div class="empty-message">
                        <i class="fas fa-search"></i>
                        <p>暂无${category}文档</p>
                        <p class="highlight">添加新文档以开始收集</p>
                    </div>
                `;
                return;
            }
            
            // 创建列表
            const list = document.createElement('ul');
            list.className = 'doc-list';
            
            categoryDocs.forEach(doc => {
                const listItem = document.createElement('li');
                listItem.className = 'doc-item';
                
                listItem.innerHTML = `
                    <div class="doc-name" onclick="openDocDetail('${doc.id}')">
                        <i class="fas fa-file-alt"></i>
                        ${doc.name}
                        <span class="doc-category">${doc.category}</span>
                    </div>
                    <div class="doc-actions">
                        <button class="delete-btn" onclick="event.stopPropagation(); openDeleteDocModal('${doc.id}')">
                            <i class="fas fa-trash-alt"></i>
                        </button>
                    </div>
                `;
                
                list.appendChild(listItem);
            });
            
            container.innerHTML = '';
            container.appendChild(list);
        }
        
        // 渲染热门文档（按浏览次数排序）
        function renderHotDocuments() {
            const container = document.getElementById('hot-docs');
            // 获取热门文档（按浏览次数排序）
            const hotDocs = [...allDocuments].sort((a, b) => b.views - a.views).slice(0, 4);
            
            if (hotDocs.length === 0) {
                container.innerHTML = `
                    <div class="empty-message">
                        <i class="fas fa-search"></i>
                        <p>暂无热门文档</p>
                        <p class="highlight">添加新文档以开始收集</p>
                    </div>
                `;
                return;
            }
            
            hotDocs.forEach(doc => {
                container.appendChild(createDocumentCard(doc));
            });
        }
        
        // 渲染最新文档（按时间排序）
        function renderRecentDocuments() {
            const container = document.getElementById('recent-docs');
            // 获取最新文档（按创建时间排序）
            const recentDocs = [...allDocuments].sort((a, b) => 
                new Date(b.created_at) - new Date(a.created_at)).slice(0, 4);
            
            if (recentDocs.length === 0) {
                container.innerHTML = `
                    <div class="empty-message">
                        <i class="fas fa-search"></i>
                        <p>暂无最新文档</p>
                        <p class="highlight">添加新文档以开始收集</p>
                    </div>
                `;
                return;
            }
            
            recentDocs.forEach(doc => {
                container.appendChild(createDocumentCard(doc));
            });
        }
        
        // 创建文档卡片（用于热门和最新）
        function createDocumentCard(doc) {
            const card = document.createElement('div');
            card.className = 'doc-card';
            card.onclick = () => openDocDetail(doc.id);
            
            card.innerHTML = `
                <div class="doc-image">
                    ${doc.image ? 
                        `<img src="${doc.image}" alt="${doc.name}">` : 
                        `<div class="placeholder"><i class="fas fa-image"></i></div>`}
                </div>
                <div class="doc-content">
                    <h3>
                        ${doc.name}
                        <span class="category-tag">${doc.category}</span>
                    </h3>
                    <p>${doc.description.substring(0, 100)}${doc.description.length > 100 ? '...' : ''}</p>
                    <div class="doc-stats">
                        <span>浏览: ${doc.views}次</span>
                        <span>${new Date(doc.created_at).toLocaleDateString()}</span>
                    </div>
                </div>
            `;
            
            return card;
        }
        
        // 打开文档详情
        function openDocDetail(docId) {
            // 获取文档详情
            const doc = allDocuments.find(d => d.id === docId);
            
            if (!doc) {
                showNotification('文档不存在或已被删除', 'error');
                return;
            }
            
            // 更新浏览次数
            doc.views = (doc.views || 0) + 1;
            
            // 更新热门文档
            renderHotDocuments();
            
            document.getElementById('detailTitleText').textContent = doc.name;
            document.getElementById('detailDescription').textContent = doc.description;
            document.getElementById('detailCategory').textContent = doc.category;
            document.getElementById('detailViews').textContent = doc.views;
            
            const imageContainer = document.getElementById('detailImageContainer');
            
            if (doc.image) {
                imageContainer.innerHTML = `<img id="detailImage" src="${doc.image}" alt="文档图片">`;
            } else {
                imageContainer.innerHTML = `
                    <div style="text-align: center; padding: 20px; width: 100%;">
                        <i class="fas fa-image" style="font-size: 5rem; color: rgba(139,0,0,0.1);"></i>
                        <p style="margin-top: 10px; color: #888;">暂无图片</p>
                    </div>
                `;
            }
            
            currentDocId = doc.id;
            document.getElementById('docDetail').style.display = 'flex';
        }
        
        // 关闭文档详情
        function closeDocDetail() {
            document.getElementById('docDetail').style.display = 'none';
            currentDocId = null;
        }
        
        // 打开添加文档模态框
        function openAddDocModal() {
            document.getElementById('addDocModal').style.display = 'flex';
            document.getElementById('docForm').style.display = 'none';
            document.getElementById('password').value = '';
            document.getElementById('password').focus();
            // 重置图片上传
            document.getElementById('docImage').value = '';
            document.getElementById('fileLabelText').textContent = '选择图片文件';
            document.getElementById('imagePreview').style.display = 'none';
            document.querySelector('.image-preview-container').style.display = 'none';
            currentImageFile = null;
        }
        
        // 关闭添加文档模态框
        function closeAddDocModal() {
            document.getElementById('addDocModal').style.display = 'none';
        }
        
        // 切换密码可见性
        function togglePasswordVisibility() {
            const passwordInput = document.getElementById('password');
            const eyeIcon = document.querySelector('.toggle-password i');
            
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                eyeIcon.classList.remove('fa-eye');
                eyeIcon.classList.add('fa-eye-slash');
            } else {
                passwordInput.type = 'password';
                eyeIcon.classList.remove('fa-eye-slash');
                eyeIcon.classList.add('fa-eye');
            }
        }
        
        // 检查密码
        function checkPassword() {
            const password = document.getElementById('password').value;
            const correctPassword = '397397';
            
            if (password === correctPassword) {
                document.getElementById('docForm').style.display = 'block';
                // 滚动到表单顶部
                document.getElementById('docForm').scrollIntoView({ behavior: 'smooth', block: 'start' });
            } else {
                showNotification('密码错误！请重试。', 'error');
            }
        }
        
        // 添加新文档
        async function addNewDocument() {
            const name = document.getElementById('docName').value;
            const category = document.getElementById('docCategory').value;
            const description = document.getElementById('docDescription').value;
            
            if (!name || !description) {
                showNotification('文档名称和描述不能为空！', 'error');
                return;
            }
            
            // 创建文档对象
            const newDoc = {
                id: `doc-${Date.now()}`,
                name,
                category,
                description,
                views: 0,
                created_at: new Date().toISOString(),
                image: null
            };
            
            // 添加到文档数组
            allDocuments.unshift(newDoc);
            
            // 重新渲染文档
            renderAllDocuments();
            
            // 重置表单
            document.getElementById('docName').value = '';
            document.getElementById('docDescription').value = '';
            document.getElementById('docImage').value = '';
            document.getElementById('fileLabelText').textContent = '选择图片文件';
            document.getElementById('imagePreview').style.display = 'none';
            document.querySelector('.image-preview-container').style.display = 'none';
            currentImageFile = null;
            
            // 关闭模态框
            closeAddDocModal();
            
            showNotification(`文档 "${name}" 已成功添加到${category}分类！`, 'success');
        }
        
        // 打开删除文档模态框
        function openDeleteDocModal(docId) {
            if (docId) {
                currentDocId = docId;
            }
            
            if (!currentDocId) return;
            
            const doc = allDocuments.find(d => d.id === currentDocId);
            if (!doc) return;
            
            document.getElementById('deleteDocName').textContent = doc.name;
            document.getElementById('deleteDocModal').style.display = 'flex';
            document.getElementById('deletePassword').value = '';
            document.getElementById('deletePassword').focus();
        }
        
        // 关闭删除文档模态框
        function closeDeleteDocModal() {
            document.getElementById('deleteDocModal').style.display = 'none';
        }
        
        // 确认删除文档
        function confirmDeleteDocument() {
            const password = document.getElementById('deletePassword').value;
            const correctPassword = '397397';
            
            if (password !== correctPassword) {
                showNotification('密码错误！删除操作未执行。', 'error');
                return;
            }
            
            if (!currentDocId) return;
            
            try {
                const docIndex = allDocuments.findIndex(d => d.id === currentDocId);
                if (docIndex === -1) return;
                
                const docName = allDocuments[docIndex].name;
                
                // 从数组中删除文档
                allDocuments.splice(docIndex, 1);
                
                // 重新渲染文档
                renderAllDocuments();
                
                // 关闭模态框
                closeDeleteDocModal();
                closeDocDetail();
                
                showNotification(`文档"${docName}"已成功删除！`, 'success');
            } catch (error) {
                console.error('删除文档失败:', error);
                showNotification('删除文档失败', 'error');
            }
        }
        
        // 分类高亮和滚动
        function highlightCategory(event, element) {
            event.preventDefault();
            
            // 移除所有active类
            document.querySelectorAll('.category-nav a').forEach(link => {
                link.classList.remove('active');
            });
            
            // 当前点击的链接添加active类
            element.classList.add('active');
            
            // 获取目标分类的id
            const targetId = element.getAttribute('href');
            const targetElement = document.querySelector(targetId);
            
            if (targetElement) {
                // 滚动到目标元素
                targetElement.scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'start'
                });
            }
        }
        
        // 测试连接
        function testConnection() {
            showNotification('连接测试成功！云存储状态正常', 'success');
        }
        
        // 初始化页面
        document.addEventListener('DOMContentLoaded', function() {
            // 添加文件上传事件监听器
            document.getElementById('docImage').addEventListener('change', function(e) {
                if (e.target.files && e.target.files[0]) {
                    currentImageFile = e.target.files[0];
                    const reader = new FileReader();
                    
                    // 更新文件标签文本
                    document.getElementById('fileLabelText').textContent = currentImageFile.name;
                    
                    reader.onload = function(e) {
                        const preview = document.getElementById('imagePreview');
                        preview.src = e.target.result;
                        preview.style.display = 'block';
                        document.querySelector('.image-preview-container').style.display = 'block';
                    }
                    
                    reader.readAsDataURL(currentImageFile);
                }
            });
            
            // 加载文档数据
            allDocuments = mockDocuments;
            
            // 模拟加载延迟
            setTimeout(() => {
                // 隐藏加载指示器
                document.getElementById('pageLoader').classList.add('hidden');
                
                // 渲染文档
                renderAllDocuments();
            }, 1500);
        });
    </script>
</body>
</html